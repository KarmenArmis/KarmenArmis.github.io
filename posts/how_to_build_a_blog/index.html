<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>How_To_Build_a_BLOG! | 我自己的博物馆</title>
<meta name=keywords content><meta name=description content="建立一个自己的博客！ 概述 本站是基于Hugo框架&amp;Papermod主题构建的个人博客。从想法浮现到构建完成不过两天有余 真的不是两周？ 总之建一个这样的小站并不麻烦，但中途可能会碰到点小麻烦还是挺恼人的。脑力不胜优秀，遂记。
实现的功能： 由于GitHub只能爆米才能使用私有仓库的GitHub Page功能，作者没米，故本指南使用在私有仓库存储博客内容、框架，再由GitHub Actions编译、推送到公有仓库并发布在GitHub Page上。（好处是博客内容不会被开盒）
Papermod原生功能少的可怜，且wiki实在是不够详细，在关键部分加强了说明。
移植了loveIt的admonition功能。
加入了博文加密功能。
准备工作 GitHub账号，过程甚简，略。 Git工具 GitHub Desktop 开始吧！ 0x01 分别创建GitHub私有、公有仓库 在GitHub上点击你的小头像，选择Your repositories，点击右上角的New。如图
分别创立两个仓库
私有仓库：repository name可随便填写
共有仓库：repository name必须填写: <your Github name>.github.io
其余内容可以都填None
0x02 检查GitHub Pages状态 在你的公有仓库-setting-pages中，看到如下页面
说明GitHub已为你创建好一个主页，可以随便丢个markdown file上去（在仓库的code-add file上传）看看效果，如图。为演示随便建的垃圾账号
0x03 克隆仓库 回到你的私有仓库，接下来我们将要把此仓库克隆到本地——这步的目的是为了方便日后你可以直接在本地写完博文，通过GitHub Desktop直接update到仓库，而不用每次都上网页add file。同时，这也可以帮助你更好的管理仓库文件。
这一步，你需要下载	GitHub Desktop	和	Git
请选择amdx64版本，Mac用户请选择arm版本。安装过程略，Git的安装可以查看网络教程其实一路next就好
接着，安装
框架，在assets点击show all assests，选择最新的windwos-amd64.zip。解压后，在用户环境变量中添加Hugo
在系统属性-环境变量-用户变量中，编辑Path变量
新增一条路径：X:\<你的文件夹>\hugo_extended_0.120.4_windows-amd64\。请注意，这路径并不包含hugo.exe，只需要到包含hugo.exe的文件夹。
记得保存！
在Windows Powershell(管理员)中输入hugo version，有如下反馈算是成功。
0x04配置Hugo框架 登录GitHub Desktop，一路next。
选择“Clone a repository from the Internet&mldr;”，将你的私有仓库克隆到本地。
在这个本地仓库打开powershell（shift+右键）"><meta name=author content="KarmenArmis"><link rel=canonical href=https://karmenarmis.github.io/posts/how_to_build_a_blog/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.2e6cbe518dffd1b2610b82e8db1551fea96bd552fc506f17979b76c175e6819c.css integrity="sha256-Lmy+UY3/0bJhC4Lo2xVR/qlr1VL8UG8Xl5t2wXXmgZw=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://karmenarmis.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://karmenarmis.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://karmenarmis.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://karmenarmis.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://karmenarmis.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="How_To_Build_a_BLOG! "><meta property="og:description" content="建立一个自己的博客！ 概述 本站是基于Hugo框架&amp;Papermod主题构建的个人博客。从想法浮现到构建完成不过两天有余 真的不是两周？ 总之建一个这样的小站并不麻烦，但中途可能会碰到点小麻烦还是挺恼人的。脑力不胜优秀，遂记。
实现的功能： 由于GitHub只能爆米才能使用私有仓库的GitHub Page功能，作者没米，故本指南使用在私有仓库存储博客内容、框架，再由GitHub Actions编译、推送到公有仓库并发布在GitHub Page上。（好处是博客内容不会被开盒）
Papermod原生功能少的可怜，且wiki实在是不够详细，在关键部分加强了说明。
移植了loveIt的admonition功能。
加入了博文加密功能。
准备工作 GitHub账号，过程甚简，略。 Git工具 GitHub Desktop 开始吧！ 0x01 分别创建GitHub私有、公有仓库 在GitHub上点击你的小头像，选择Your repositories，点击右上角的New。如图
分别创立两个仓库
私有仓库：repository name可随便填写
共有仓库：repository name必须填写: <your Github name>.github.io
其余内容可以都填None
0x02 检查GitHub Pages状态 在你的公有仓库-setting-pages中，看到如下页面
说明GitHub已为你创建好一个主页，可以随便丢个markdown file上去（在仓库的code-add file上传）看看效果，如图。为演示随便建的垃圾账号
0x03 克隆仓库 回到你的私有仓库，接下来我们将要把此仓库克隆到本地——这步的目的是为了方便日后你可以直接在本地写完博文，通过GitHub Desktop直接update到仓库，而不用每次都上网页add file。同时，这也可以帮助你更好的管理仓库文件。
这一步，你需要下载	GitHub Desktop	和	Git
请选择amdx64版本，Mac用户请选择arm版本。安装过程略，Git的安装可以查看网络教程其实一路next就好
接着，安装
框架，在assets点击show all assests，选择最新的windwos-amd64.zip。解压后，在用户环境变量中添加Hugo
在系统属性-环境变量-用户变量中，编辑Path变量
新增一条路径：X:\<你的文件夹>\hugo_extended_0.120.4_windows-amd64\。请注意，这路径并不包含hugo.exe，只需要到包含hugo.exe的文件夹。
记得保存！
在Windows Powershell(管理员)中输入hugo version，有如下反馈算是成功。
0x04配置Hugo框架 登录GitHub Desktop，一路next。
选择“Clone a repository from the Internet&mldr;”，将你的私有仓库克隆到本地。
在这个本地仓库打开powershell（shift+右键）"><meta property="og:type" content="article"><meta property="og:url" content="https://karmenarmis.github.io/posts/how_to_build_a_blog/"><meta property="og:image" content="https://karmenarmis.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-11-28T20:48:00+08:00"><meta property="article:modified_time" content="2023-11-28T20:48:00+08:00"><meta property="og:site_name" content="我自己的博物馆"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://karmenarmis.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="How_To_Build_a_BLOG! "><meta name=twitter:description content="建立一个自己的博客！ 概述 本站是基于Hugo框架&amp;Papermod主题构建的个人博客。从想法浮现到构建完成不过两天有余 真的不是两周？ 总之建一个这样的小站并不麻烦，但中途可能会碰到点小麻烦还是挺恼人的。脑力不胜优秀，遂记。
实现的功能： 由于GitHub只能爆米才能使用私有仓库的GitHub Page功能，作者没米，故本指南使用在私有仓库存储博客内容、框架，再由GitHub Actions编译、推送到公有仓库并发布在GitHub Page上。（好处是博客内容不会被开盒）
Papermod原生功能少的可怜，且wiki实在是不够详细，在关键部分加强了说明。
移植了loveIt的admonition功能。
加入了博文加密功能。
准备工作 GitHub账号，过程甚简，略。 Git工具 GitHub Desktop 开始吧！ 0x01 分别创建GitHub私有、公有仓库 在GitHub上点击你的小头像，选择Your repositories，点击右上角的New。如图
分别创立两个仓库
私有仓库：repository name可随便填写
共有仓库：repository name必须填写: <your Github name>.github.io
其余内容可以都填None
0x02 检查GitHub Pages状态 在你的公有仓库-setting-pages中，看到如下页面
说明GitHub已为你创建好一个主页，可以随便丢个markdown file上去（在仓库的code-add file上传）看看效果，如图。为演示随便建的垃圾账号
0x03 克隆仓库 回到你的私有仓库，接下来我们将要把此仓库克隆到本地——这步的目的是为了方便日后你可以直接在本地写完博文，通过GitHub Desktop直接update到仓库，而不用每次都上网页add file。同时，这也可以帮助你更好的管理仓库文件。
这一步，你需要下载	GitHub Desktop	和	Git
请选择amdx64版本，Mac用户请选择arm版本。安装过程略，Git的安装可以查看网络教程其实一路next就好
接着，安装
框架，在assets点击show all assests，选择最新的windwos-amd64.zip。解压后，在用户环境变量中添加Hugo
在系统属性-环境变量-用户变量中，编辑Path变量
新增一条路径：X:\<你的文件夹>\hugo_extended_0.120.4_windows-amd64\。请注意，这路径并不包含hugo.exe，只需要到包含hugo.exe的文件夹。
记得保存！
在Windows Powershell(管理员)中输入hugo version，有如下反馈算是成功。
0x04配置Hugo框架 登录GitHub Desktop，一路next。
选择“Clone a repository from the Internet&mldr;”，将你的私有仓库克隆到本地。
在这个本地仓库打开powershell（shift+右键）"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://karmenarmis.github.io/posts/"},{"@type":"ListItem","position":3,"name":"How_To_Build_a_BLOG! ","item":"https://karmenarmis.github.io/posts/how_to_build_a_blog/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How_To_Build_a_BLOG! ","name":"How_To_Build_a_BLOG! ","description":"建立一个自己的博客！ 概述 本站是基于Hugo框架\u0026amp;Papermod主题构建的个人博客。从想法浮现到构建完成不过两天有余 真的不是两周？ 总之建一个这样的小站并不麻烦，但中途可能会碰到点小麻烦还是挺恼人的。脑力不胜优秀，遂记。\n实现的功能： 由于GitHub只能爆米才能使用私有仓库的GitHub Page功能，作者没米，故本指南使用在私有仓库存储博客内容、框架，再由GitHub Actions编译、推送到公有仓库并发布在GitHub Page上。（好处是博客内容不会被开盒）\nPapermod原生功能少的可怜，且wiki实在是不够详细，在关键部分加强了说明。\n移植了loveIt的admonition功能。\n加入了博文加密功能。\n准备工作 GitHub账号，过程甚简，略。 Git工具 GitHub Desktop 开始吧！ 0x01 分别创建GitHub私有、公有仓库 在GitHub上点击你的小头像，选择Your repositories，点击右上角的New。如图\n分别创立两个仓库\n私有仓库：repository name可随便填写\n共有仓库：repository name必须填写: \u0026lt;your Github name\u0026gt;.github.io\n其余内容可以都填None\n0x02 检查GitHub Pages状态 在你的公有仓库-setting-pages中，看到如下页面\n说明GitHub已为你创建好一个主页，可以随便丢个markdown file上去（在仓库的code-add file上传）看看效果，如图。为演示随便建的垃圾账号\n0x03 克隆仓库 回到你的私有仓库，接下来我们将要把此仓库克隆到本地——这步的目的是为了方便日后你可以直接在本地写完博文，通过GitHub Desktop直接update到仓库，而不用每次都上网页add file。同时，这也可以帮助你更好的管理仓库文件。\n这一步，你需要下载\tGitHub Desktop\t和\tGit\n请选择amdx64版本，Mac用户请选择arm版本。安装过程略，Git的安装可以查看网络教程其实一路next就好\n接着，安装\n框架，在assets点击show all assests，选择最新的windwos-amd64.zip。解压后，在用户环境变量中添加Hugo\n在系统属性-环境变量-用户变量中，编辑Path变量\n新增一条路径：X:\\\u0026lt;你的文件夹\u0026gt;\\hugo_extended_0.120.4_windows-amd64\\。请注意，这路径并不包含hugo.exe，只需要到包含hugo.exe的文件夹。\n记得保存！\n在Windows Powershell(管理员)中输入hugo version，有如下反馈算是成功。\n0x04配置Hugo框架 登录GitHub Desktop，一路next。\n选择“Clone a repository from the Internet\u0026hellip;”，将你的私有仓库克隆到本地。\n在这个本地仓库打开powershell（shift+右键）","keywords":[],"articleBody":"建立一个自己的博客！ 概述 本站是基于Hugo框架\u0026Papermod主题构建的个人博客。从想法浮现到构建完成不过两天有余 真的不是两周？ 总之建一个这样的小站并不麻烦，但中途可能会碰到点小麻烦还是挺恼人的。脑力不胜优秀，遂记。\n实现的功能： 由于GitHub只能爆米才能使用私有仓库的GitHub Page功能，作者没米，故本指南使用在私有仓库存储博客内容、框架，再由GitHub Actions编译、推送到公有仓库并发布在GitHub Page上。（好处是博客内容不会被开盒）\nPapermod原生功能少的可怜，且wiki实在是不够详细，在关键部分加强了说明。\n移植了loveIt的admonition功能。\n加入了博文加密功能。\n准备工作 GitHub账号，过程甚简，略。 Git工具 GitHub Desktop 开始吧！ 0x01 分别创建GitHub私有、公有仓库 在GitHub上点击你的小头像，选择Your repositories，点击右上角的New。如图\n分别创立两个仓库\n私有仓库：repository name可随便填写\n共有仓库：repository name必须填写: .github.io\n其余内容可以都填None\n0x02 检查GitHub Pages状态 在你的公有仓库-setting-pages中，看到如下页面\n说明GitHub已为你创建好一个主页，可以随便丢个markdown file上去（在仓库的code-add file上传）看看效果，如图。为演示随便建的垃圾账号\n0x03 克隆仓库 回到你的私有仓库，接下来我们将要把此仓库克隆到本地——这步的目的是为了方便日后你可以直接在本地写完博文，通过GitHub Desktop直接update到仓库，而不用每次都上网页add file。同时，这也可以帮助你更好的管理仓库文件。\n这一步，你需要下载\tGitHub Desktop\t和\tGit\n请选择amdx64版本，Mac用户请选择arm版本。安装过程略，Git的安装可以查看网络教程其实一路next就好\n接着，安装\n框架，在assets点击show all assests，选择最新的windwos-amd64.zip。解压后，在用户环境变量中添加Hugo\n在系统属性-环境变量-用户变量中，编辑Path变量\n新增一条路径：X:\\\u003c你的文件夹\u003e\\hugo_extended_0.120.4_windows-amd64\\。请注意，这路径并不包含hugo.exe，只需要到包含hugo.exe的文件夹。\n记得保存！\n在Windows Powershell(管理员)中输入hugo version，有如下反馈算是成功。\n0x04配置Hugo框架 登录GitHub Desktop，一路next。\n选择“Clone a repository from the Internet…”，将你的私有仓库克隆到本地。\n在这个本地仓库打开powershell（shift+右键）\n执行hugo new site --force，可以替换成你的私有仓库名称，构建hugo框架，如下图\n0x05为博客添加一个主题 比如我是用的Papermod主题\n主页贴在这里：https://github.com/adityatelange/hugo-PaperMod\nwiki在这里：https://github.com/adityatelange/hugo-PaperMod/wiki\nInfo 当你遇到问题时，应该首先查看wiki 参考wiki，使用git工具来管理。\n在myWebSite文件夹右键打开git bash，使用git submodule add --depth=1 https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod git submodule update --init --recursive # needed when you reclone your repo (submodules may not get cloned automatically)下载\n0x06配置主题 首先，papermod使用yaml配置主题。\nWe’ll be using yml/yaml format for all examples down below, I recommend using yml over toml as it is easier to read.\n由于hugo config支持多种配置文件格式\nHugo uses the hugo.toml, hugo.yaml, or hugo.json (if found in the site root) as the default site configuration file.\n可以先删除默认的hugo.toml，新建config.yaml，之后的配置都会在此更改。\n首先复制一份papermod主题的sample config到config.yaml，之后的改正会以此为基础修修补补。\nhttps://github.com/adityatelange/hugo-PaperMod/wiki/Installation#sample-configyml\n下面详细讲一下config.yaml中比较重要的内容（格式未经过严格排版，谨慎复制，yaml语法对制表符、空格要求严格）\ntitle: ExampleSite\t\u003c博客的名字\u003e paginate: 5\t\u003c每个页面显示的博文数量\u003e params: title: ExampleSite\t\u003c博客的标题\u003e description: \"ExampleSite description\" author: Me\t\u003c显示的作者名\u003e label: text: \"Home\"\t\u003c左上角\u003e profileMode: buttons:\t\u003c页面右上角按键的名称\u003e - name: Posts url: posts - name: Tags url: tags homeInfoParams: Title: \"Hi there \\U0001F44B\"\t\u003c主页面上的标题栏内容\u003e Content: Welcome to my blog\t\u003c主页面上的简介栏内容\u003e socialIcons:\t- name: twitter\t\u003c这是一个在线图标示例\u003e title: 推特 url: \"https://twitter.com/\" - name: -\t\u003c这是一个本地图标示例\u003e title: 本地图标 url: \"/icons/\u003c本地图标\u003e\"\t\u003c本地图标保存在/static/icons文件夹下\u003e - name: email\t\u003c这是一个邮件图标示例，此行不可更改\u003e title: 電郵 url: \"mailto:\u003c你的电子邮箱地址\u003e\" 0x07新建博文 在文件夹执行hugo new posts/hello.md，生成一篇hello.md文章，编辑内容。\n使用hugo server -D查看修改是否生效。用ctrl+c结束调试。\n将hello.md中第四行draft改为true，正式发布\n0x08发布网站 登录 Github，点击个人头像，选择 Settings，进入个人设置页面。\n选择Developer settings - Personal access tokens - Tokens(classic)\n选择Generate new token(classic)，勾选workflow。\n生成令牌，妥善保存ghp_开头的令牌内容\n0x09 为私有仓库建立Action secrets 进入私有仓库，进入Settings - Secrets and variables - Actions页面\n点击New repository secret添加刚刚保存的token\n0x0A 创建Actions 在本地 myWebSite 文件夹创建 \u003c.github\\workflows\\main.yml\u003e 文件，输入以下内容：\nname: GitHub Pages on: push: branches: - main # 博客根目录的默认分支，这里是main，有时也是master pull_request: jobs: deploy: runs-on: ubuntu-20.04 concurrency: group: ${{ github.workflow }}-${{ github.ref }} steps: - uses: actions/checkout@v2 with: submodules: true fetch-depth: 0 - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: '0.91.2' # 填写你的hugo版本，可用hugo version查看 extended: true # 如果你使用的不是extended版本的hugo，将true改为false - name: Build run: hugo --minify - name: Deploy uses: peaceiris/actions-gh-pages@v3 if: ${{ github.ref == 'refs/heads/main' }} # 注意填写main或者master with: personal_token: ${{ secrets.MY_PAT}} # 如果secret取了其他名称，将MY_PAT替换掉 external_repository: simumis/simumis.github.io # 填写远程仓库，不一定是这个格式，按照自己的情况写 publish_dir: ./public #cname: www.example.com # 填写你的自定义域名。如果没有用自定义域名，注释掉这行 0x0B发布网站 打开 Github Desktop 软件，点击 Commit to main 按钮提交所有修改（需要填写更新总结），然后点击 Push origin 按钮将修改内容推送到 Github 网站的 myWebSite 仓库，随后触发 Github Actions 自动执行编译、发布功能。\n在github的仓库打开Settings-Pages页面，将Branch改为gh-pages\n现在，打开你自己的博客看看吧！！ Admonition功能（仿LoveIt） 概述 Admonition是一种基于markdown格式，需要博客支持的提示框型文字。\nPaeperMod主题并不自带Admonition功能，于是需要从LoveIt主题移植。\n首先看了这篇文章\nhttps://mc-lsk888-blog.vercel.app/post/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/%E7%A7%BB%E6%A4%8Dadmonition%E5%88%B0papermod/\n博文给出了admonition的移植方法，但我自己用文中方法和代码尝试并不成功。\n实现过程 主要使用了https://github.com/YazidLee/hugo-backup的repo。这个库已经将admonition功能移植好了，并附加了其他功能（本文并不介绍）\n首先将该库clone下来。 在本地仓库新建\\assets\\css\\extended; \\layouts\\partials; \\layouts\\shortcodes三个文件夹，将库中以上三个文件夹中admonition.css; details.css； fa-all.css；extend_footer.html; admonition.html分别复制到自己的本地库。 将库中/static/font文件夹复制到本地库 修改的内容，只保留{{- /* admonition toggle */}}一段，删除其他内容。 使用hugo server -D查看修改是否生效。 admonition语法见此：https://hdsbook.github.io/0-loveit-admonition-note/\nInfo 注意：使用admonition是不要在命令前留有空格 设置全局字体 将.otf/.ttf字体放入/static/fonts文件夹中\n新建/assets/css/extended/fonts.css字体描述文件\n编辑该文件：\n@font-face {\t/*引用字体*/ font-family: \"字体名\"; src: url(\"/fonts/本地字体.otf\"); } body\t/*设置全局字体*/ { font-family: \"字体名\"; } 同时，也可以分别设置正文字体\npost-content{\t/*对应的class名称或id名称*/ font-family: \"中文字体\",\"西文字体\"; } 使用hugo server -D查看修改是否生效。\n如何在博文中引用图片 两种选择\n在线图床：将图片上传到图床，生成绝对链接，再粘贴到markdown file中，但是要钱 烂了（ 本地引用：将图片给放在\\static\\img文件夹中，我们将着重讲述这个办法。 将图片放入\\static\\img文件夹。\n再markdown file中严格按照![title（可省略）](/img/)的格式引用\n使用hugo server -D查看修改是否生效。\n在Hugo框架的博客中渲染附加的Markdown语法 你可能会发现，使用shift+enter的换行在博文里并不能被正确渲染为换行符。再比如，行内删除线有时也不能被正确渲染。这是因为Hugo框架只配置了最基础的Markdown语法。为此，我们需要添加附加扩展\nhttps://www.gohugo.org/doc/overview/configuration/\n旧版的Hugo框架使用了Blackfriday作为渲染引擎，如上所述，在此不详述。之前以为是blackfriday配置了半天都不成功气死我辣\nhttps://gohugo.io/getting-started/configuration-markup/\n新版的Hugo框架使用了Goldmark作为渲染引擎，如上所述。直接将Goldmark yaml复制到本地库的config.yaml，并将hardWraps改为true\nextensions每项的具体作用可以在此查看https://github.com/yuin/goldmark\n血泪教训 类似测试 删除线？ 这样末尾带有符号的删除线，记得在外部留一个空格，否则无法渲染 多个空格 根据Markdown的语法规则，多个空格将会被忽略，你可以用\u0026nbsp;来表示空格 结语 写道这里就差不多结束了吧？嗯，看起来是挺小白的。不过，想必你在建立这个小窝的时候必不会一帆风顺。但你的技能、知识、对代码的把控能力就是在一次次这样的心力交瘁和“wok成了！”中慢慢磨练出来了。不管怎么说，如果你真的有这份毅力，那么就从第一行代码头也不回地开始吧。而现在，我只能向准备远航的你微微致敬，献上一份微不足道的支持。\n","wordCount":"461","inLanguage":"en","datePublished":"2023-11-28T20:48:00+08:00","dateModified":"2023-11-28T20:48:00+08:00","author":{"@type":"Person","name":"KarmenArmis"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://karmenarmis.github.io/posts/how_to_build_a_blog/"},"publisher":{"@type":"Organization","name":"我自己的博物馆","logo":{"@type":"ImageObject","url":"https://karmenarmis.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://karmenarmis.github.io accesskey=h title="博物館前門 (Alt + H)"><img src=https://karmenarmis.github.io/apple-touch-icon.png alt aria-label=logo height=35>博物館前門</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://karmenarmis.github.io/categories/ title=分類><span>分類</span></a></li><li><a href=https://karmenarmis.github.io/tags/ title=標簽><span>標簽</span></a></li><li><a href=https://www.travellings.cn/go.html title=開往><span>開往</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://karmenarmis.github.io>Home</a>&nbsp;»&nbsp;<a href=https://karmenarmis.github.io/posts/>Posts</a></div><h1 class=post-title>How_To_Build_a_BLOG!</h1><div class=post-meta><span title='2023-11-28 20:48:00 +0800 +0800'>November 28, 2023</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;461 words&nbsp;·&nbsp;KarmenArmis</div></header><div class=post-content><h1 id=建立一个自己的博客>建立一个自己的博客！<a hidden class=anchor aria-hidden=true href=#建立一个自己的博客>#</a></h1><h2 id=概述>概述<a hidden class=anchor aria-hidden=true href=#概述>#</a></h2><p>本站是基于Hugo框架&amp;Papermod主题构建的个人博客。从想法浮现到构建完成不过两天有余 <del>真的不是两周？</del> 总之建一个这样的小站并不麻烦，但中途可能会碰到点小麻烦还是挺恼人的。脑力不胜优秀，遂记。</p><h3 id=实现的功能>实现的功能：<a hidden class=anchor aria-hidden=true href=#实现的功能>#</a></h3><p>由于GitHub只能爆米才能使用私有仓库的GitHub Page功能，作者没米，故本指南使用在私有仓库存储博客内容、框架，再由GitHub Actions编译、推送到公有仓库并发布在GitHub Page上。（好处是博客内容不会被开盒）</p><p>Papermod原生功能少的可怜，且wiki实在是不够详细，在关键部分加强了说明。</p><p>移植了loveIt的admonition功能。</p><p>加入了博文加密功能。</p><h2 id=准备工作>准备工作<a hidden class=anchor aria-hidden=true href=#准备工作>#</a></h2><ol><li>GitHub账号，过程甚简，略。</li><li>Git工具</li><li>GitHub Desktop</li></ol><h2 id=开始吧>开始吧！<a hidden class=anchor aria-hidden=true href=#开始吧>#</a></h2><h3 id=0x01-分别创建github私有公有仓库>0x01 分别创建GitHub私有、公有仓库<a hidden class=anchor aria-hidden=true href=#0x01-分别创建github私有公有仓库>#</a></h3><p>在GitHub上点击你的小头像，选择Your repositories，点击右上角的New。如图</p><p><img loading=lazy src=/img/image-20231127205939751.png alt="new repository"></p><p>分别创立两个仓库</p><p>私有仓库：repository name可随便填写</p><p>共有仓库：repository name必须填写: <code>&lt;your Github name>.github.io</code></p><p>其余内容可以都填None</p><h3 id=0x02-检查github-pages状态>0x02 检查GitHub Pages状态<a hidden class=anchor aria-hidden=true href=#0x02-检查github-pages状态>#</a></h3><p>在你的公有仓库-setting-pages中，看到如下页面</p><p><img loading=lazy src=/img/image-20231127211713930.png alt=pages></p><p>说明GitHub已为你创建好一个主页，可以随便丢个markdown file上去（在仓库的code-add file上传）看看效果，如图。<del>为演示随便建的垃圾账号</del></p><p><img loading=lazy src=/img/image-20231127211929841.png alt="page test"></p><h3 id=0x03-克隆仓库>0x03 克隆仓库<a hidden class=anchor aria-hidden=true href=#0x03-克隆仓库>#</a></h3><p>回到你的私有仓库，接下来我们将要把此仓库克隆到本地——这步的目的是为了方便日后你可以直接在本地写完博文，通过GitHub Desktop直接update到仓库，而不用每次都上网页add file。同时，这也可以帮助你更好的管理仓库文件。</p><p>这一步，你需要下载 <a href=https://desktop.github.com/>GitHub Desktop</a> 和 <a href=https://git-scm.com/download/win>Git</a></p><p>请选择amdx64版本，Mac用户请选择arm版本。安装过程略，Git的安装可以查看网络教程<del>其实一路next就好</del></p><p>接着，安装</p><p>框架，在assets点击show all assests，选择最新的windwos-amd64.zip。解压后，在用户环境变量中添加Hugo</p><p>在系统属性-环境变量-用户变量中，编辑Path变量</p><p><img loading=lazy src=/img/image-20231127212842634.png alt="envierment var setting"></p><p><img loading=lazy src=/img/image-20231127213031876.png alt="path setting"></p><p>新增一条路径：<code>X:\&lt;你的文件夹>\hugo_extended_0.120.4_windows-amd64</code>\。请注意，这路径并不包含hugo.exe，只需要到包含hugo.exe的文件夹。</p><p><strong>记得保存！</strong></p><p>在Windows Powershell(管理员)中输入hugo version，有如下反馈算是成功。</p><p><img loading=lazy src=/img/image-20231127213408244.png alt="hugo vers"></p><h3 id=0x04配置hugo框架>0x04配置Hugo框架<a hidden class=anchor aria-hidden=true href=#0x04配置hugo框架>#</a></h3><p>登录GitHub Desktop，一路next。</p><p>选择“Clone a repository from the Internet&mldr;”，将你的私有仓库克隆到本地。<br>在这个本地仓库打开powershell（shift+右键）</p><p>执行<code>hugo new site &lt;myWebSite> --force</code>，可以替换成你的私有仓库名称，构建hugo框架，如下图</p><p><img loading=lazy src=/img/image-20231127221525226.png alt=frame></p><h3 id=0x05为博客添加一个主题>0x05为博客添加一个主题<a hidden class=anchor aria-hidden=true href=#0x05为博客添加一个主题>#</a></h3><p>比如我是用的Papermod主题<br>主页贴在这里：https://github.com/adityatelange/hugo-PaperMod<br>wiki在这里：https://github.com/adityatelange/hugo-PaperMod/wiki</p><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fas fa-info-circle fa-fw"></i>Info<i class="details-icon fas fa-angle-right fa-fw"></i></div><div class=details-content><div class=admonition-content><strong>当你遇到问题时，应该首先查看wiki</strong></div></div></div><p>参考wiki，使用git工具来管理。<br>在myWebSite文件夹右键打开git bash，使用<code>git submodule add --depth=1 https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod git submodule update --init --recursive # needed when you reclone your repo (submodules may not get cloned automatically)</code>下载</p><h3 id=0x06配置主题>0x06配置主题<a hidden class=anchor aria-hidden=true href=#0x06配置主题>#</a></h3><p>首先，papermod使用yaml配置主题。</p><blockquote><p>We&rsquo;ll be using yml/yaml format for all examples down below, I recommend using yml over toml as it is easier to read.</p></blockquote><p>由于hugo config支持多种配置文件格式</p><blockquote><p>Hugo uses the <code>hugo.toml</code>, <code>hugo.yaml</code>, or <code>hugo.json</code> (if found in the site root) as the default site configuration file.</p></blockquote><p>可以先删除默认的hugo.toml，新建config.yaml，之后的配置都会在此更改。</p><p>首先复制一份papermod主题的sample config到config.yaml，之后的改正会以此为基础修修补补。</p><blockquote><p><a href=https://github.com/adityatelange/hugo-PaperMod/wiki/Installation#sample-configyml>https://github.com/adityatelange/hugo-PaperMod/wiki/Installation#sample-configyml</a></p></blockquote><hr><p>下面详细讲一下config.yaml中比较重要的内容（格式未经过严格排版，谨慎复制，yaml语法对制表符、空格要求严格）</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=l>ExampleSite	&lt;博客的名字&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>paginate</span><span class=p>:</span><span class=w> </span><span class=m>5</span><span class=w>	</span><span class=l>&lt;每个页面显示的博文数量&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>params</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=l>ExampleSite	&lt;博客的标题&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nt>description</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;ExampleSite description&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nt>author</span><span class=p>:</span><span class=w> </span><span class=l>Me	&lt;显示的作者名&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>label</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nt>text</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Home&#34;</span><span class=w>	</span><span class=l>&lt;左上角&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>profileMode</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=l>buttons:	&lt;页面右上角按键的名称&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Posts</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=l>posts</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Tags</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=l>tags</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>homeInfoParams</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nt>Title</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Hi there \U0001F44B&#34;</span><span class=w>	</span><span class=l>&lt;主页面上的标题栏内容&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span><span class=nt>Content</span><span class=p>:</span><span class=w> </span><span class=l>Welcome to my blog		&lt;主页面上的简介栏内容&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=l>socialIcons:	&lt;name:papermod wiki-Icons中给出的图标名，与图标关联，不可更改.自定义图标请用“-”代替。title：显示的图标名。url：地址，包括在线图标和本地图标&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	</span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>twitter	&lt;这是一个在线图标示例&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	  </span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=l>推特</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>	  </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;https://twitter.com/&#34;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span>-<span class=w>	</span><span class=l>&lt;这是一个本地图标示例&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=l>本地图标</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;/icons/&lt;本地图标&gt;&#34;</span><span class=w>	</span><span class=l>&lt;本地图标保存在/static/icons文件夹下&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>email	&lt;这是一个邮件图标示例，此行不可更改&gt;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>title</span><span class=p>:</span><span class=w> </span><span class=l>電郵</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>url</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;mailto:&lt;你的电子邮箱地址&gt;&#34;</span><span class=w>
</span></span></span></code></pre></div><h3 id=0x07新建博文>0x07新建博文<a hidden class=anchor aria-hidden=true href=#0x07新建博文>#</a></h3><p>在文件夹执行<code>hugo new posts/hello.md</code>，生成一篇hello.md文章，编辑内容。</p><p>使用<code>hugo server -D</code>查看修改是否生效。用<code>ctrl+c</code>结束调试。</p><p>将hello.md中第四行draft改为true，正式发布</p><h3 id=0x08发布网站>0x08发布网站<a hidden class=anchor aria-hidden=true href=#0x08发布网站>#</a></h3><p>登录 Github，点击个人头像，选择 Settings，进入个人设置页面。</p><p>选择Developer settings - Personal access tokens - Tokens(classic)</p><p><img loading=lazy src=/img/image-20231129214806097.png alt=image-20231129214806097></p><p>选择Generate new token(classic)，勾选workflow。</p><p><img loading=lazy src=/img/image-20231129215139049.png alt=image-20231129215139049></p><p>生成令牌，<strong>妥善保存</strong>ghp_开头的令牌内容</p><h3 id=0x09-为私有仓库建立action-secrets>0x09 为私有仓库建立Action secrets<a hidden class=anchor aria-hidden=true href=#0x09-为私有仓库建立action-secrets>#</a></h3><p>进入私有仓库，进入Settings - Secrets and variables - Actions页面</p><p><img loading=lazy src=/img/image-20231129215715334.png alt=image-20231129215715334></p><p>点击New repository secret添加刚刚保存的token</p><h3 id=0x0a-创建actions>0x0A 创建Actions<a hidden class=anchor aria-hidden=true href=#0x0a-创建actions>#</a></h3><p>在本地 myWebSite 文件夹创建 &lt;.github\workflows\main.yml> 文件，输入以下内容：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>GitHub Pages</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>main </span><span class=w> </span><span class=c># 博客根目录的默认分支，这里是main，有时也是master</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>pull_request</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>deploy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-20.04</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>concurrency</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>group</span><span class=p>:</span><span class=w> </span><span class=l>${{ github.workflow }}-${{ github.ref }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>fetch-depth</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setup Hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-hugo@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>hugo-version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;0.91.2&#39;</span><span class=w>  </span><span class=c># 填写你的hugo版本，可用hugo version查看</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>extended</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>          </span><span class=c># 如果你使用的不是extended版本的hugo，将true改为false</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>hugo --minify</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-gh-pages@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>if</span><span class=p>:</span><span class=w> </span><span class=l>${{ github.ref == &#39;refs/heads/main&#39; }} </span><span class=w> </span><span class=c># 注意填写main或者master</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>personal_token</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.MY_PAT}}</span><span class=w> </span><span class=c># 如果secret取了其他名称，将MY_PAT替换掉</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>external_repository</span><span class=p>:</span><span class=w> </span><span class=l>simumis/simumis.github.io</span><span class=w> </span><span class=c># 填写远程仓库，不一定是这个格式，按照自己的情况写 </span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>publish_dir</span><span class=p>:</span><span class=w> </span><span class=l>./public</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c>#cname: www.example.com        # 填写你的自定义域名。如果没有用自定义域名，注释掉这行</span><span class=w>
</span></span></span></code></pre></div><h3 id=0x0b发布网站>0x0B发布网站<a hidden class=anchor aria-hidden=true href=#0x0b发布网站>#</a></h3><p>打开 Github Desktop 软件，点击 <strong>Commit to main</strong> 按钮提交所有修改（需要填写更新总结），然后点击 <strong>Push origin</strong> 按钮将修改内容推送到 Github 网站的 myWebSite 仓库，随后触发 Github Actions 自动执行编译、发布功能。</p><p><img loading=lazy src=/img/image-20231129220141501.png alt=image-20231129220141501></p><p>在github的&lt;yourname.github.io>仓库打开Settings-Pages页面，将Branch改为gh-pages</p><p><img loading=lazy src=/img/image-20231129220443361.png alt=image-20231129220443361></p><h2 id=现在打开你自己的博客看看吧>现在，打开你自己的博客看看吧！！<a hidden class=anchor aria-hidden=true href=#现在打开你自己的博客看看吧>#</a></h2><p> </p><h2 id=admonition功能仿loveit>Admonition功能（仿LoveIt）<a hidden class=anchor aria-hidden=true href=#admonition功能仿loveit>#</a></h2><h3 id=概述-1>概述<a hidden class=anchor aria-hidden=true href=#概述-1>#</a></h3><p>Admonition是一种基于markdown格式，需要博客支持的提示框型文字。</p><p>PaeperMod主题并不自带Admonition功能，于是需要从LoveIt主题移植。</p><p>首先看了这篇文章</p><blockquote><p><a href=https://mc-lsk888-blog.vercel.app/post/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/%E7%A7%BB%E6%A4%8Dadmonition%E5%88%B0papermod/>https://mc-lsk888-blog.vercel.app/post/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/%E7%A7%BB%E6%A4%8Dadmonition%E5%88%B0papermod/</a></p></blockquote><p>博文给出了admonition的移植方法，但我自己用文中方法和代码尝试并不成功。</p><h3 id=实现过程>实现过程<a hidden class=anchor aria-hidden=true href=#实现过程>#</a></h3><p>主要使用了https://github.com/YazidLee/hugo-backup的repo。这个库已经将admonition功能移植好了，并附加了其他功能（本文并不介绍）</p><ol><li>首先将该库clone下来。</li><li>在本地仓库新建<code>\assets\css\extended; \layouts\partials; \layouts\shortcodes</code>三个文件夹，将库中以上三个文件夹中<code>admonition.css; details.css； fa-all.css；extend_footer.html; admonition.html</code>分别复制到自己的本地库。</li><li>将库中<code>/static/font</code>文件夹复制到本地库</li><li>修改&lt;extend_footer.html>的内容，只保留<code>{{- /* admonition toggle */}}</code>一段，删除其他内容。</li><li>使用<code>hugo server -D</code>查看修改是否生效。</li></ol><p>admonition语法见此：https://hdsbook.github.io/0-loveit-admonition-note/</p><div class="details admonition info open"><div class="details-summary admonition-title"><i class="icon fas fa-info-circle fa-fw"></i>Info<i class="details-icon fas fa-angle-right fa-fw"></i></div><div class=details-content><div class=admonition-content>注意：使用admonition是不要在命令前留有空格</div></div></div><h2 id=设置全局字体>设置全局字体<a hidden class=anchor aria-hidden=true href=#设置全局字体>#</a></h2><ol><li><p>将.otf/.ttf字体放入<code>/static/fonts</code>文件夹中</p></li><li><p>新建<code>/assets/css/extended/fonts.css</code>字体描述文件</p></li><li><p>编辑该文件：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=p>@</span><span class=k>font-face</span> <span class=p>{</span>						<span class=c>/*引用字体*/</span>
</span></span><span class=line><span class=cl>    <span class=nt>font-family</span><span class=o>:</span> <span class=s2>&#34;字体名&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=nt>src</span><span class=o>:</span> <span class=nt>url</span><span class=o>(</span><span class=s2>&#34;/fonts/本地字体.otf&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nt>body</span>							<span class=c>/*设置全局字体*/</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>font-family</span><span class=p>:</span> <span class=s2>&#34;字体名&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></li><li><p>同时，也可以分别设置正文字体</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=nt>post-content</span><span class=p>{</span>						<span class=c>/*对应的class名称或id名称*/</span>
</span></span><span class=line><span class=cl>    <span class=k>font-family</span><span class=p>:</span> <span class=s2>&#34;中文字体&#34;</span><span class=p>,</span><span class=s2>&#34;西文字体&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></li><li><p>使用<code>hugo server -D</code>查看修改是否生效。</p></li></ol><h2 id=如何在博文中引用图片>如何在博文中引用图片<a hidden class=anchor aria-hidden=true href=#如何在博文中引用图片>#</a></h2><p>两种选择</p><ol><li>在线图床：将图片上传到图床，生成绝对链接，再粘贴到markdown file中，但是要钱 <del>烂了（</del></li><li>本地引用：将图片给放在<code>\static\img</code>文件夹中，我们将着重讲述这个办法。</li></ol><p>将图片放入<code>\static\img</code>文件夹。<br>再markdown file中严格按照<code>![title（可省略）](/img/&lt;your file>)</code>的格式引用</p><p>使用<code>hugo server -D</code>查看修改是否生效。</p><h2 id=在hugo框架的博客中渲染附加的markdown语法>在Hugo框架的博客中渲染附加的Markdown语法<a hidden class=anchor aria-hidden=true href=#在hugo框架的博客中渲染附加的markdown语法>#</a></h2><p>你可能会发现，使用shift+enter的换行在博文里并不能被正确渲染为换行符。再比如，行内删除线有时也不能被正确渲染。这是因为Hugo框架只配置了最基础的Markdown语法。为此，我们需要添加附加扩展</p><blockquote><p><a href=https://www.gohugo.org/doc/overview/configuration/>https://www.gohugo.org/doc/overview/configuration/</a></p></blockquote><p>旧版的Hugo框架使用了Blackfriday作为渲染引擎，如上所述，在此不详述。<del>之前以为是blackfriday配置了半天都不成功气死我辣</del></p><blockquote><p><a href=https://gohugo.io/getting-started/configuration-markup/>https://gohugo.io/getting-started/configuration-markup/</a></p></blockquote><p>新版的Hugo框架使用了Goldmark作为渲染引擎，如上所述。直接将Goldmark yaml复制到本地库的config.yaml，并将hardWraps改为true</p><p>extensions每项的具体作用可以在此查看https://github.com/yuin/goldmark</p><p><div class="details admonition warning open"><div class="details-summary admonition-title"><i class="icon fas fa-exclamation-triangle fa-fw"></i>血泪教训<i class="details-icon fas fa-angle-right fa-fw"></i></div><div class=details-content><div class=admonition-content>类似测试 <del>删除线？</del> 这样末尾带有符号的删除线，记得在外部留一个空格，否则无法渲染</div></div></div><div class="details admonition tips open"><div class="details-summary admonition-title"><i class="icon fas fa-pencil-alt fa-fw"></i>多个空格<i class="details-icon fas fa-angle-right fa-fw"></i></div><div class=details-content><div class=admonition-content>根据Markdown的语法规则，多个空格将会被忽略，你可以用<code>&amp;nbsp;</code>来表示空格</div></div></div></p><h1 id=结语>结语<a hidden class=anchor aria-hidden=true href=#结语>#</a></h1><p>写道这里就差不多结束了吧？嗯，看起来是挺小白的。不过，想必你在建立这个小窝的时候必不会一帆风顺。但你的技能、知识、对代码的把控能力就是在一次次这样的心力交瘁和“wok成了！”中慢慢磨练出来了。不管怎么说，如果你真的有这份毅力，那么就从第一行代码头也不回地开始吧。而现在，我只能向准备远航的你微微致敬，献上一份微不足道的支持。</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=next href=https://karmenarmis.github.io/posts/%E6%9B%B4%E6%96%B0%E9%A9%BB%E8%AE%B0%E6%B5%8B%E8%AF%95%E9%A1%B5/><span class=title>Next »</span><br><span>更新驻记&测试页</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://karmenarmis.github.io>我自己的博物馆</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let details=document.getElementsByClassName("details");details=details||[];for(let e=0;e<details.length;e++){let t=details[e];const n=t.getElementsByClassName("details-summary")[0];n&&n.addEventListener("click",()=>{t.classList.toggle("open")},!1)}</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>